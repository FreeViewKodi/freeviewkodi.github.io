<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreeViewKodi Repository</title>
</head>
<body>
    <div class="container">
        <h1>FreeViewKodi Repository</h1>
        <p>This page mimics a simple directory where Kodi downloads addon files.</p>
        
        <!-- The file list will be rendered here by JavaScript -->
        <ul id="file-list" class="file-list">
            <!-- Dynamically generated list items will go here -->
        </ul>
    </div>

    <script>
        // Use an immediately invoked function to encapsulate the script
        (function() {
            // This is the data structure that defines the repository content.
            const repoData = [
                {
                    name: 'repository.freeview-kodi.zip',
                    type: 'file',
                    url: 'https://github.com/FreeViewKodi/repository.freeview/archive/refs/heads/kodi.zip'
                },
                {
                    name: 'plugin.video.freeview-kodi.zip',
                    type: 'file',
                    url: 'https://github.com/FreeViewKodi/plugin.video.freeview/archive/refs/heads/kodi.zip'
                }
            ];

            /**
             * Renders a directory listing from the provided data.
             * @param {Array<Object>} items The array of repository items to render.
             * @param {HTMLElement} parentElement The DOM element to append the items to.
             */
            function renderDirectory(items, parentElement) {
                // Iterate through each item in the data array
                items.forEach(item => {
                    // Handle file entries
                    if (item.type === 'file' && item.url) {
                        // Create the <li> element
                        const listItem = document.createElement('li');

                        // Create the <a> element
                        const fileLink = document.createElement('a');
                        fileLink.href = item.url;
                        fileLink.textContent = item.name;
                        
                        // Append the link to the list item
                        listItem.appendChild(fileLink);
                        
                        // Append the list item to the parent UL element
                        parentElement.appendChild(listItem);
                    }
                });
            }

            // Get the container where the file list will be displayed
            const fileListContainer = document.getElementById('file-list');

            // Wait for the DOM to be fully loaded before running the script
            document.addEventListener('DOMContentLoaded', () => {
                // Call the function to render the directory
                renderDirectory(repoData, fileListContainer);
            });
        })();
    </script>
</body>
</html>
